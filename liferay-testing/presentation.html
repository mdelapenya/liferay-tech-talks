<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>None</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/default/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/default/css/screen.css">
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/default/js/slides.js"></script>
    
    <!-- /Javascripts -->
</head>
<body>
  <div class="presentation">
    <div class="slides">
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          
          <section><h1></h1></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            1/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>About me</h1></header>
          
          
          <section><ul>
<li>Miguel Pastor</li>
<li>Core software engineer</li>
<li>Interested in distributed systems, scalability and PaaS.</li>
<li>AspectJ and Scala enthusiast. Erlang aficionado.</li>
<li>Phd student??</li>
<li>Twitter: @miguelinlas3</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            2/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Agenda</h1></header>
          
          
          <section><ul>
<li>The need of testing</li>
<li>Unit testing</li>
<li>Integration testing</li>
<li>Getting hands dirty</li>
<li>Jenkins CI Server</li>
<li>Q &amp; A</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            3/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>The need of testing</h1></header>
          
          
          <section><ul>
<li>Find bugs as soon as possible</li>
<li>Make our life happier</li>
<li>Help to improve our design</li>
<li>Improve our code quality</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            4/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Unit testing</h1></header>
          
          
          <section><ul>
<li>Test our code in an isolated way<ul>
<li>No external dependencies</li>
</ul>
</li>
<li>Independent</li>
<li>Repeatable</li>
<li>Easy to execute (by anybody)</li>
<li>Extremely fast</li>
<li>Run fast, run often</li>
<li><strong>Well written</strong>!!</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            5/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Unit testing in Liferay</h1></header>
          
          
          <section><ul>
<li>Application context is not available</li>
<li>Using mocks/stubs approach</li>
<li>Tools: <strong>Mockito</strong> + <strong>PowerMock</strong> extensions</li>
<li>Easy to run: <strong>ant test-unit</strong></li>
<li>Let´s see some examples</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            6/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Liferay unit test</h1></header>
          
          
          <section><h2>Using mocks</h2>
<ul>
<li>Inyecting mock dependencies</li>
<li>Mocking method calls<ul>
<li>Returning values</li>
<li>Void methods</li>
</ul>
</li>
<li>Mocking static methods</li>
<li>Verify</li>
<li>Spy</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            7/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Getting hands dirty</h1></header>
          
          
          <section><ul>
<li>Go next to your buddy</li>
<li>Choose a class<ul>
<li>A well known class (if possible)</li>
</ul>
</li>
<li>Let´s do some unit tests</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            8/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Integration testing</h1></header>
          
          
          <section><ul>
<li>Test our code with the real dependencies<ul>
<li>Database, real services, ...</li>
</ul>
</li>
<li>Components should work altogether</li>
<li>Independent</li>
<li>Slower than unit tests</li>
<li><strong>Well written</strong>!!</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            9/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Liferay integration test</h1></header>
          
          
          <section><ul>
<li>Loading the application context<ul>
<li>Liferay JUnit runner</li>
</ul>
</li>
<li>Listeners support</li>
<li>Transactional support</li>
<li>Test and TestSuites</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            10/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Getting hands dirty</h1></header>
          
          
          <section><ul>
<li>Go next to your buddy</li>
<li>Choose a class<ul>
<li>A well known class (if possible)</li>
</ul>
</li>
<li>Let´s do some integration tests</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            11/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Improvements</h1></header>
          
          
          <section><ul>
<li>Testing taglibs</li>
<li>Testing actions</li>
<li>More??</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            12/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Useful commands</h1></header>
          
          
          <section><ul>
<li><strong>ant test</strong> : run all the tests</li>
<li><strong>ant test-unit</strong> : run the unit tests</li>
<li><strong>ant test-integration</strong> : run all the integration tests</li>
<li><strong>ant test-class -Dclass=XXX</strong>: run the class</li>
<li><strong>ant sonar</strong>: generates the sonar quality metrics</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            13/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Useful configuration</h1></header>
          
          
          <section><p>TODO Complete with an image of the configuration</p></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            14/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Jenkins CI Server</h1></header>
          
          
          <section><ul>
<li>Currently monitoring <strong>liferay/liferay-portal/master</strong></li>
<li>When a (or multiple) changes are detected run all the tests</li>
<li>Useful tests results</li>
<li>Plugins are checked after each succesfull build of the portal<ul>
<li>At this moment only compiles the plugins</li>
</ul>
</li>
<li>Quick tour over Jenkins</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            15/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Sonar quality metrics</h1></header>
          
          
          <section><ul>
<li>In addition to Jenkins</li>
<li>Run once a week (currently on Saturday)</li>
<li>Quality metrics and reports<ul>
<li>Code coverage</li>
<li>Unit tests results</li>
<li>Code quality rules</li>
<li>Design graphic</li>
<li>Code complexity</li>
<li>...</li>
</ul>
</li>
</ul></section>
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            16/17
          </aside>
        </footer>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide">
        <div class="inner">
          
          <header><h1>Q &amp; A</h1></header>
          
          
        </div>
        <footer>
          
          <aside class="source">
            Source: <a href="file:///Users/migue/development/sourcecode/liferay-tech-talks/liferay-testing/slides.md">slides.md</a>
          </aside>
          
          <aside class="page_number">
            17/17
          </aside>
        </footer>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
            
      <tr id="toc-row-1">
        <th><a href="#slide1">-</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
            
      <tr id="toc-row-2">
        <th><a href="#slide2">About me</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
            
      <tr id="toc-row-3">
        <th><a href="#slide3">Agenda</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
            
      <tr id="toc-row-4">
        <th><a href="#slide4">The need of testing</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
            
      <tr id="toc-row-5">
        <th><a href="#slide5">Unit testing</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
            
      <tr id="toc-row-6">
        <th><a href="#slide6">Unit testing in Liferay</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
            
      <tr id="toc-row-7">
        <th><a href="#slide7">Liferay unit test</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
            
      <tr id="toc-row-8">
        <th><a href="#slide8">Getting hands dirty</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
            
      <tr id="toc-row-9">
        <th><a href="#slide9">Integration testing</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
            
      <tr id="toc-row-10">
        <th><a href="#slide10">Liferay integration test</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
            
      <tr id="toc-row-11">
        <th><a href="#slide11">Getting hands dirty</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
            
      <tr id="toc-row-12">
        <th><a href="#slide12">Improvements</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
            
      <tr id="toc-row-13">
        <th><a href="#slide13">Useful commands</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
            
      <tr id="toc-row-14">
        <th><a href="#slide14">Useful configuration</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
            
      <tr id="toc-row-15">
        <th><a href="#slide15">Jenkins CI Server</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
            
      <tr id="toc-row-16">
        <th><a href="#slide16">Sonar quality metrics</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
            
      <tr id="toc-row-17">
        <th><a href="#slide17">Q &amp; A</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>